import java.util.ArrayList;
import java.util.List;

import com.itextpdf.html2pdf.ConverterProperties;
import com.itextpdf.html2pdf.HtmlConverter;
import com.itextpdf.kernel.pdf.PdfWriter;
import com.pcitc.htmltopdf.util.pdf.HtmlToPDF;

/**
 * @author baitao
 * @date 2018/12/12 9:24
 */
public class TestHtmlToPdf {
	
	public static void main(String[] arts) {
		getPrintHtml();
//		replace();
//		getPrintHtml1();

	}

	public static void getPrintHtml() {
		List<String> list = new ArrayList<String>();
//		list.add("<table style=\"border-collapse: collapse;border:0.1px solid red;\" width=\"90%\" cellspacing=\"0\" cellpadding=\"0\"       bordercolor=\"#000000\" border=\"0\" align=\"center\">    <tbody>    <tr class=\"firstRow\">        <td colspan=\"6\" style=\"text-align:center;border: 0px;\"><br/><br/><span                style=\"font-family:宋体;font-size:18px\"><strong>通知存款存入凭证</strong></span><br/><br/></td>    </tr>    <tr>        <td colspan=\"6\" style=\"text-align:center;border: 0px;\">@POST_DT_FORMAT2@<br/></td>    </tr>    <tr>        <td><br/></td>        <td><br/></td>        <td><br/></td>        <td><br/></td>        <td><br/></td>        <td><br/></td>    </tr>    <tr>        <td colspan=\"6\" style=\"text-align:right;border-width: 0px;\">编号：20182980000004<br/></td>    </tr>    <tr>        <td><br/></td>        <td><br/></td>        <td><br/></td>        <td><br/></td>        <td><br/></td>        <td><br/></td>    </tr>    <tr>        <td><br/></td>        <td><br/></td>        <td><br/></td>        <td><br/></td>        <td><br/></td>        <td><br/></td>    </tr>    <tr>        <td rowspan=\"3\" style=\"text-align:center;border-width: 2px 1px 1px 2px;width: 3%; border-style: solid;\">付款人</td>        <td style=\"text-align:center;border-width: 2px 1px 1px 1px;width: 12%; border-style: solid;\">户名</td>        <td style=\"text-align:left;border-width: 2px 1px 1px 1px;width: 35%; border-style: solid;\">宁夏京能房地产开发有限公司</td>        <td rowspan=\"3\" style=\"text-align:center;border-width: 2px 1px 1px 1px;width: 3%; border-style: solid;\">收款人</td>        <td style=\"text-align:center;border-width: 2px 1px 1px 1px;width: 17%; border-style: solid;\">户名</td>        <td style=\"text-align:left;border-width: 2px 2px 1px 1px;width: 30%; border-style: solid;\">宁夏京能房地产开发有限公司</td>    </tr>    <tr>        <td style=\"text-align:center;border-width: 0px 0px 0px 0px; border-style: solid;\">账号</td>        <td style=\"text-align:left;border-width: 0px 0px 0px 0px; border-style: solid;\">01-01-000050-01</td>        <td style=\"text-align:center;border-width: 0px 0px 0px 0px; border-style: solid;\">账号</td>        <td style=\"text-align:left;border-width: 0px 0px 0px 0px; border-style: solid;\">TRMB01-00005020180010</td>    </tr>    <tr>        <td style=\"text-align:center;border-width: 1px 1px 1px 1px; border-style: solid;\">开户银行</td>        <td style=\"text-align:left;border-width: 1px 1px 1px 1px; border-style: solid;\">京能集团财务有限公司</td>        <td style=\"text-align:center;border-width: 1px 1px 1px 1px; border-style: solid;\">开户银行</td>        <td style=\"text-align:left;border-width: 1px 2px 1px 1px; border-style: solid;\">京能集团财务有限公司</td>    </tr>    <tr>        <td colspan=\"2\" style=\"text-align:center;border-width: 1px 1px 1px 2px; border-style: solid;\">            @CURRENCY_CD_NM@（大写）        </td>        <td colspan=\"3\" style=\"text-align:left;border-width: 1px 0px 1px 1px; border-style: solid;\">壹仟万元整</td>        <td style=\"text-align:right;border-width: 0px 2px 1px 0px; border-style: solid;\">            @CURRENCY_CD_SYMBOL@@AMOUNT_FORMAT@        </td>    </tr>    <tr>        <td colspan=\"2\" style=\"text-align:center;border-width: 1px 1px 2px 2px; border-style: solid;\">摘要</td>        <td colspan=\"4\" style=\"text-align:left;border-width: 1px 2px 2px 1px; border-style: solid;\">            七天通知;存款开立;TRMB01-00005020180010;        </td>    </tr>    <tr>        <td colspan=\"4\" style=\"border: 0px;\"><br/></td>        <td style=\"border: 0px; border-color: black; font-size:12px; border-style: solid;text-align: right;\">[录入]admin        </td>        <td style=\"border: 0px; border-color: black; font-size:12px; border-style: solid;text-align: right;\">[复核]admin        </td>    </tr>    </tbody></table>");
		
//		list.add("<style type=\"text/css\">table{border-collapse: collapse;border-style: solid;border-width: 2px 1px 1px 2px;}  td, th{border-style: solid;border-width: 0 1px 1px 0;}</style>" +
//				"<table data-sort=\"sortDisabled\"><tbody><tr class=\"firstRow\"><td style=\"word-break: break-all;\" width=\"82\" valign=\"top\">发士大夫<br/></td><td rowspan=\"1\" colspan=\"4\" style=\"word-break: break-all;\" valign=\"top\">fasdfasdfasdf<br/></td><td width=\"82\" valign=\"top\"></td></tr><tr><td style=\"word-break: break-all;\" rowspan=\"1\" colspan=\"2\" valign=\"top\">撒地方发生<br/></td><td width=\"82\" valign=\"top\"></td><td rowspan=\"1\" colspan=\"3\" style=\"word-break: break-all;\" valign=\"top\">fasdfasdf<br/></td></tr><tr><td style=\"word-break: break-all;\" width=\"82\" valign=\"top\">速度 asdf撒旦发<br/></td><td rowspan=\"1\" colspan=\"3\" style=\"word-break: break-all;\" valign=\"top\">asdfasdfasdf<br/></td><td width=\"82\" valign=\"top\"></td><td width=\"82\" valign=\"top\"></td></tr><tr><td style=\"word-break: break-all;\" width=\"82\" valign=\"top\">发射点<br/></td><td rowspan=\"1\" colspan=\"5\" style=\"word-break: break-all;\" valign=\"top\">fasdfasdfasdf<br/></td></tr></tbody></table>");
//		list.add("<style type=\"text/css\"> * {font-size: 12px;} table {border-color=\"#000000\"; width: 100%;border-collapse: collapse;border: 1px solid black;border-style: solid;border-width: 2px 1px 1px 2px}  td, th {padding: 5px; border-style: solid;border-width: 0 1px 1px 0;}</style>" +
//				"<table ><tbody><tr class=\"firstRow\"><td colspan=\"6\" style=\"text-align:center;border: 0px;\"><br/><br/><span style=\"font-family:宋体;font-size:18px\"><strong>通知存款存入凭证</strong></span><br/><br/></td></tr><tr><td colspan=\"6\" style=\"text-align:center;border: 0px;\">@POST_DT_FORMAT2@<br/></td></tr><tr><td><br/></td><td><br/></td><td><br/></td><td><br/></td><td><br/></td><td><br/></td></tr><tr><td colspan=\"6\" style=\"text-align:right;border-width: 0px;\">编号：20182980000004<br/></td></tr><tr><td><br/></td><td><br/></td><td><br/></td><td><br/></td><td><br/></td><td><br/></td></tr><tr><td><br/></td><td><br/></td><td><br/></td><td><br/></td><td><br/></td><td><br/></td></tr><tr><td rowspan=\"3\" style=\"text-align:center;border-width: 2px 1px 1px 2px;width: 3%; border-style: solid;\">付款人</td><td style=\"text-align:center;border-width: 2px 1px 1px 1px;width: 12%; border-style: solid;\">户名</td><td style=\"text-align:left;border-width: 2px 1px 1px 1px;width: 35%; border-style: solid;\">宁夏京能房地产开发有限公司</td><td rowspan=\"3\" style=\"text-align:center;border-width: 2px 1px 1px 1px;width: 3%; border-style: solid;\">收款人</td><td style=\"text-align:center;border-width: 2px 1px 1px 1px;width: 17%; border-style: solid;\">户名</td><td style=\"text-align:left;border-width: 2px 2px 1px 1px;width: 30%; border-style: solid;\">宁夏京能房地产开发有限公司</td></tr><tr><td style=\"text-align:center;border-width: 1px 1px 1px 1px; border-style: solid;\">账号</td><td style=\"text-align:left;border-width: 1px 1px 1px 1px; border-style: solid;\">01-01-000050-01</td><td style=\"text-align:center;border-width: 1px 1px 1px 1px; border-style: solid;\">账号</td><td style=\"text-align:left;border-width: 1px 2px 1px 1px; border-style: solid;\">TRMB01-00005020180010</td></tr><tr><td style=\"text-align:center;border-width: 1px 1px 1px 1px; border-style: solid;\">开户银行</td><td style=\"text-align:left;border-width: 1px 1px 1px 1px; border-style: solid;\">京能集团财务有限公司</td><td style=\"text-align:center;border-width: 1px 1px 1px 1px; border-style: solid;\">开户银行</td><td style=\"text-align:left;border-width: 1px 2px 1px 1px; border-style: solid;\">京能集团财务有限公司</td></tr><tr><td colspan=\"2\" style=\"text-align:center;border-width: 1px 1px 1px 2px; border-style: solid;\">@CURRENCY_CD_NM@（大写）</td><td colspan=\"3\" style=\"text-align:left;border-width: 1px 0px 1px 1px; border-style: solid;\">壹仟万元整</td><td style=\"text-align:right;border-width: 0px 2px 1px 0px; border-style: solid;\">@CURRENCY_CD_SYMBOL@@AMOUNT_FORMAT@</td></tr><tr><td colspan=\"2\" style=\"text-align:center;border-width: 1px 1px 2px 2px; border-style: solid;\">摘要</td><td colspan=\"4\" style=\"text-align:left;border-width: 1px 2px 2px 1px; border-style: solid;\">七天通知;存款开立;TRMB01-00005020180010;</td></tr><tr><td colspan=\"4\" style=\"border: 0px;\"><br/></td><td style=\"border: 0px; border-color: black; font-size:12px; border-style: solid;text-align: right;\">[录入]admin</td><td style=\"border: 0px; border-color: black; font-size:12px; border-style: solid;text-align: right;\">[复核]admin</td></tr></tbody></table>");
		list.add(
				"<p><br/></p><table id=\"thead\" title=\"表头\" data-sort=\"sortDisabled\"><tbody><tr class=\"firstRow\"><td rowspan=\"1\" colspan=\"4\" style=\"word-break: break-all;\" valign=\"middle\" align=\"center\"><strong><span style=\"font-size: 18px;\">收款凭证</span></strong></td></tr><tr><td rowspan=\"1\" class=\"hr\" colspan=\"4\" valign=\"top\"><hr style=\"width: 70%;size: 2px;margin: 0px 15%;\" color=\"#000\"/></td></tr><tr><td style=\"word-break: break-all;\" width=\"349\" valign=\"top\"></td><td style=\"word-break: break-all;\" width=\"349\" valign=\"top\">@POST_DT@</td><td style=\"word-break: break-all;\" width=\"349\" valign=\"top\" align=\"left\">编号：@TRADE_ID@</td><td style=\"word-break: break-all;\" width=\"349\" valign=\"middle\" align=\"right\"></td></tr></tbody></table><p><br/></p><p><br/></p><table id=\"tbody\" title=\"表体\" align=\"center\"><tbody valign=\"middle\"><tr class=\"firstRow\"><td style=\"border-width: 2px 0px 0px 2px;border-style: solid;\" rowspan=\"3\" width=\"23.333333333333332\" valign=\"middle\" align=\"center\"><strong>付款人</strong></td><td style=\"border-width: 2px 0px 0px 1px;border-style: solid;text-align:center;\" width=\"9%\"><strong>户名</strong></td><td style=\"text-align: left; border-width: 2px 0px 0px 1px; border-style: solid; vertical-align: middle; word-break: break-all;\" width=\"37%\">@ACCOUNT_NM2@</td><td style=\"border-width: 2px 0px 0px 2px;border-style: solid;\" rowspan=\"3\" width=\"4%\" valign=\"middle\" align=\"center\"><strong>收款人</strong></td><td style=\"border-width: 2px 0px 0px 1px;text-align:center;vertical-align:middle;border-style: solid;\" width=\"9%\"><strong>户名</strong></td><td style=\"text-align:left;border-width: 2px 2px 0px 1px;vertical-align:middle;border-style: solid;\" colspan=\"2\" width=\"37%\">@ACCOUNT_NM1@</td></tr><tr><td style=\"border-width: 1px 0px 0px 1px;text-align:center;border-style: solid;\" width=\"79.33333333333333\"><strong>账号</strong></td><td style=\"text-align: left; border-width: 1px 0px 0px 1px; border-style: solid; word-break: break-all;\">@ACCOUNT_NUM2@</td><td style=\"border-width: 1px 0px 0px 1px;text-align:center;border-style: solid;\"><strong>账号</strong></td><td style=\"text-align:left;border-width: 1px 2px 0px 1px;border-style: solid;\" colspan=\"2\">@ACCOUNT_NUM1@</td></tr><tr><td style=\"border-width: 1px 0px 0px 1px;text-align:center;border-style: solid;\" width=\"79.33333333333333\"><strong>开户银行</strong></td><td style=\"text-align:left;border-width: 1px 0px 0px 1px;border-style: solid;\">@BANK_NAME2@</td><td style=\"border-width: 1px 0px 0px 1px;text-align:center;border-style: solid;\"><strong>开户银行</strong></td><td style=\"text-align:left;border-width: 1px 2px 0px 1px;border-style: solid;\" colspan=\"2\">@BANK_NAME1@</td></tr><tr><td colspan=\"2\" style=\"border-width: 1px 0px 0px 2px; border-style: solid; word-break: break-all;\" width=\"123.33333333333333\"><strong>@CURRENCY_NM@（大写）</strong></td><td colspan=\"3\" style=\"text-align:left;border-width: 1px 0px 0px 1px;border-style: solid;\">@AMOUNT_UPPER@</td><td colspan=\"2\" style=\"border-width: 1px 2px 0px 0px; border-style: solid; text-align: right; word-break: break-all;\">@CURRENCY_SYMBOL@@AMOUNT_FORMAT@</td></tr><tr><td colspan=\"2\" style=\"border-width: 1px 0px 0px 2px;border-style: solid;\" width=\"123.33333333333333\"><strong>摘要：</strong></td><td colspan=\"5\" style=\"text-align:left;border-width: 1px 2px 0px 1px;border-style: solid;\">@DETAIL@</td></tr><tr><td colspan=\"2\" style=\"border-width: 1px 0px 2px 2px;border-style: solid;\" width=\"123.33333333333333\"><strong>清算行：</strong></td><td colspan=\"5\" style=\"text-align:left;border-width: 1px 2px 2px 1px;border-style: solid;\">@CLEARING_BANK@</td></tr></tbody></table><p><br/></p><p><br/></p><table id=\"tfoot\" title=\"表尾\"><tbody><tr class=\"firstRow\"><td width=\"349\" valign=\"top\"></td><td style=\"word-break: break-all;\" width=\"349\" valign=\"middle\" align=\"right\"><span style=\"font-size: 12px;\">[录入]@CREATED_BY@</span></td><td style=\"word-break: break-all;\" width=\"349\" valign=\"middle\" align=\"right\"><span style=\"font-size: 12px;\">[复核]@APPROVED_BY@</span></td></tr></tbody></table><p><br/></p>");
//		String ttfPathString = "./src/main/resources/static/simfang.ttf";
		String ttfPathString = "./src/main/resources/static/SourceHanSerifSC-Medium.otf";
		String pdfName = HtmlToPDF.htmlStrToPdf(list, "A5", "hx", null, null, null, null, null, ttfPathString);
		System.out.println(pdfName);
	}
	
	public static void replace() {
		List<String> list = new ArrayList<String>();
		list.add("<style type=\"text/css\">table{border-collapse: collapse;border-style: solid;border-width: 2px 1px 1px 2px;}  td, th{border-style: solid;border-width: 0 1px 1px 0;}</style>" +
				"");
		String htmlString = list.get(0);
		System.out.println(htmlString);
		htmlString = htmlString.replaceAll("border(-width)?:[0-9px ]*;", "");
		System.out.println(htmlString);
	}
	
//	public static void getPrintHtml1() {
//		List<String> list = new ArrayList<String>();
//		list.add("<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><title>Title</title><style type=\"text/css\"> * {margin: 0;padding: 0;}  .body {border: 1px solid red;width: 210mm;height: 110mm;position: absolute;}  div.layout {position: absolute;display: table;}  p.text {display: table-cell;}</style></head><body><div class=\"body\"><div class=\"layout\" style=\"width: 93mm; height: 8.44mm;right: 56.92mm;top:10.9mm;z-index:1;\"><p class=\"text\" style=\"word-break: keep-all;fontFamily:SimHei;font-size:18px;text-align:center;vertical-align:middle;\" title=\"横向文本\">高等学校学生及家庭情况调查表</p></div></div></body></html>");
//		PdfWriter pdfWriter;
//		try {
//			pdfWriter = new PdfWriter(new java.io.File("./src/main/resources/test.pdf"));
//			HtmlConverter.convertToPdf(list.get(0), pdfWriter);
//		} catch (Exception e) {
//			// TODO Auto-generated catch block
//			e.printStackTrace();
//		}
//		
//	}
}
